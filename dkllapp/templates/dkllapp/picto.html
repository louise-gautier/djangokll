<!DOCTYPE html>
<html>
{% load static %}
<head>
    {% include 'dkllapp/head.html' %}
</head>
<body class="bg-gradient-black">
    {% include 'dkllapp/section_menu.html' %}
    <div class="mainwrapper">
        <br>
        <p class="titre_rouge"><b>Choisis ton picto</b></p>
        <div style="margin-left: 15px; margin-right: 15px;">
            <form id="form" action="" method="POST">
                {% csrf_token %}
                <div style="padding-left: 15px; padding-right: 15px;">
                    <div style="display: flex; flex-flow: row wrap; justify-content: space-around;">
                        {% for field in form %}
                        <div class="form-check_candidat">
                            <input class="form-check-input_candidat" type="checkbox" id={{field.name}} name={{field.name}}>
                            {% for picto_chemin in pictos %}
                            <script type="text/javascript">if (("0" + "{{field.name}}".substring(5,7)).slice(-2) == ("0" + "{{picto_chemin}}".substring(24,26)).slice(-2) ) {
                                                                lbl = document.createElement("label");
                                                                lbl.setAttribute("class","form-check-label_candidat")
                                                                lbl.setAttribute("for","{{field.name}}")

                                                                div_img = document.createElement("div");
                                                                div_img.setAttribute("class", "div_picto");
                                                                img = document.createElement("img");
                                                                img.setAttribute("src", "{% static picto_chemin %}");
                                                                img.setAttribute("class", "img_div_picto");
                                                                div_img.appendChild(img)
                                                                lbl.appendChild(div_img)

                                                                input_tag = document.getElementById("{{ field.name }}");
                                                                input_tag.parentNode.insertBefore(lbl, input_tag.nextSibling.nextSibling.nextSibling);
                                                            } else {};
                            </script>
                            {% endfor %}
                        </div>
                        <br>
                        {% endfor %}
                        {% if "alert" in txt_alert %}
                        <p style="padding-left: 8px; padding-top: 8px; color: #f12459; font-size: 12px;">Attention, tu n'as pas sélectionné un et un seul picto.</p>
                        {% endif %}
                        <br>
                        <button class="btn btn-danger btn-sm" type="submit">Valider</button>

                    </div>
                    <br>
                    <br>
                </div>
            </form>
        </div>
    </div>
    {% include 'dkllapp/body_scripts.html' %}
</body>
</html>
